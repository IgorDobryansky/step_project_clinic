!function(){"use strict";var t={91:function(t){t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},941:function(t,e,n){t.exports=n.p+"img/clinic_logod246adac946c88922100.png"}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t+"../"}(),n.b=document.baseURI||self.location.href,function(){var t=n(91),e=n.n(t),r=new URL(n(941),n.b);function s(t,e){const n=document.createElement(t);return e?(Array.isArray(e)?n.classList.add(...e):n.classList.add(e),n):n}e()(r);var i=n(941);class o{constructor(){this._headerLogo=s("div",["logo-wrapper"]),this._headerLogo.innerHTML=`<img src=${i} alt="Clinic logo" class="logo-image">`}render(){return this._headerLogo}}class a{constructor(t,e){this._classList=e,this._button=s("a",this._classList),this._innerText=t,this._button.innerText=this._innerText}render(){return this._button}}class u extends a{constructor(t,e){super(...arguments),this._button.href="https://ajax.test-danit.com/front-pages/cards-register.html",this._button.target="_blank"}}class c{constructor(t){this._modal=s("form",t)}render(){return this._modal}}class l extends c{constructor(t){super(...arguments),this._emailInput=s("input","modal-email__imput"),this._emailInput.placeholder="Введіть емейл",this._emailInput.required=!0,this._emailInput.type="email",this._passwordInput=s("input","modal-password__input"),this._passwordInput.type="password",this._passwordInput.required=!0,this._passwordInput.placeholder="Введіть пароль",this._errorMessage=s("span","login-error"),this._loginButton=s("button",["button","check-login"]),this._loginButton.innerText="Логін",this._loginButton.addEventListener("click",(t=>{console.log(this._emailInput.value),console.log(this._passwordInput.value),this._loginButton.disabled=!0,async function(t,e){const n=await fetch("https://ajax.test-danit.com/api/v2/cards/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})}),r=await n;return console.log(r),r}(this._emailInput.value,this._passwordInput.value).then((t=>{if(!t.ok)throw this._loginButton.disabled=!1,this._errorMessage.innerHTML="Вибачте. Помилка авторизації. Перевірте введені дані або зареєструйтесь.",new Error;this._loginButton.disabled=!1,this._modal.remove()}))})),this._registerLink=s("a","register-link"),this._registerLink.href="https://ajax.test-danit.com/front-pages/cards-register.html",this._registerLink.target="_blank",this._registerLink.innerText="Зареєструйтесь",this._else=s("span","else"),this._else.innerText="або"}render(){return this._modal.append(this._emailInput,this._passwordInput,this._errorMessage,this._loginButton,this._else,this._registerLink),this._modal}}class h extends a{constructor(t,e){super(...arguments),this._button.href="#!login",this._button.addEventListener("click",(t=>{const e=new l("modal-login");document.body.append(e.render())}))}}localStorage.getItem("clinic-token");const d=document.getElementById("app"),p=new class{constructor(){this._headerLogo=(new o).render(),this._loginButtons=s("div","login-buttons"),this._registerButton=new u("Реєстрація",["button","button-register"]).render(),this._logInButton=new h("Увійти",["button","button-login"]).render(),this._header=s("header",["header"])}render(){return this._loginButtons.append(this._registerButton,this._logInButton),this._header.append(this._headerLogo,this._loginButtons),this._header}},_=new class{constructor(){this._tagName="form",this._className="search-form"}render(){const t=s(this._tagName,this._className),e=s("input","search-input");return t.append(e),t}};d.append(p.render(),_.render())}()}();